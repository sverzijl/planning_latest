================================================================================
PLANNING HORIZON UI CONTROL - VISUAL MOCKUP
================================================================================

BEFORE (No Planning Horizon Control)
────────────────────────────────────────────────────────────────────────────

    ⚙️ Optimization Settings
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    [Time Limit Slider]    [Allow Shortages ☑]      [Show Solver Output ☐]
    [MIP Gap Slider]       [Enforce Shelf Life ☑]
    [Override Start ☐]     [Max Routes: 5]

    ────────────────────────────────────────────────────────────────────────

    🚀 Run Optimization
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    [⚡ Solve Optimization Model]


AFTER (With Planning Horizon Control)
────────────────────────────────────────────────────────────────────────────

    ⚙️ Optimization Settings
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    [Time Limit Slider]    [Allow Shortages ☑]      [Show Solver Output ☐]
    [MIP Gap Slider]       [Enforce Shelf Life ☑]
    [Override Start ☐]     [Max Routes: 5]

    ────────────────────────────────────────────────────────────────────────

    📅 Planning Horizon                                          ← NEW SECTION
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    Planning horizon mode:                 ← 2-COLUMN LAYOUT
    ┌────────────────────────────────┬─────────────────────────┐
    │ ◉ Auto (from forecast)         │                         │
    │ ○ Custom (weeks)               │                         │
    │                                 │                         │
    │ ℹ Help: Auto mode calculates   │                         │
    │ horizon from forecast range.    │                         │
    │ Custom mode lets you specify   │                         │
    │ weeks to plan ahead.            │                         │
    └────────────────────────────────┴─────────────────────────┘

    ────────────────────────────────────────────────────────────────────────

    🚀 Run Optimization
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    [⚡ Solve Optimization Model]


AFTER - CUSTOM MODE SELECTED
────────────────────────────────────────────────────────────────────────────

    📅 Planning Horizon
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    Planning horizon mode:
    ┌────────────────────────────────┬─────────────────────────┐
    │ ○ Auto (from forecast)         │ Planning horizon (weeks)│
    │ ◉ Custom (weeks)               │ [26      ] ← NUMBER BOX │
    │                                 │                         │
    │ ℹ Help: Auto mode calculates   │ ℹ Help: Number of weeks│
    │ horizon from forecast range.    │ to plan ahead. Min 4   │
    │ Custom mode lets you specify   │ weeks, max 104 weeks.  │
    │ weeks to plan ahead.            │                         │
    └────────────────────────────────┴─────────────────────────┘

    ℹ️ Planning horizon: 26 weeks (ending 2025-10-09)

    ⚠️ Planning horizon (2025-10-09) extends beyond labor calendar
       coverage (2025-08-15). Extended dates will issue warnings
       but optimization will proceed.

    ────────────────────────────────────────────────────────────────────────

    🚀 Run Optimization
    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

    [⚡ Solve Optimization Model]


================================================================================
KEY UI FEATURES
================================================================================

1. PROGRESSIVE DISCLOSURE
   - Number input only appears when "Custom (weeks)" is selected
   - Reduces clutter in Auto mode

2. IMMEDIATE FEEDBACK
   - Shows calculated end date as soon as weeks are entered
   - Displays labor calendar warning if horizon exceeds coverage

3. CLEAR VISUAL HIERARCHY
   - Section header establishes context
   - Radio buttons for mode selection (primary choice)
   - Number input for week value (secondary input)
   - Info messages provide real-time feedback

4. RESPONSIVE LAYOUT
   - 2-column layout for clean organization
   - Left: Mode selection with help text
   - Right: Week input (conditional display)

5. VALIDATION & WARNINGS
   - Min/max bounds enforced (4-104 weeks)
   - Labor calendar coverage check
   - Non-blocking warnings (optimization can still run)

================================================================================
USER INTERACTION FLOW
================================================================================

Step 1: User selects "Custom (weeks)" mode
   → Number input appears in right column

Step 2: User enters number of weeks (e.g., 26)
   → System calculates end_date = forecast_start + (26 × 7) days
   → Displays: "📅 Planning horizon: 26 weeks (ending 2025-10-09)"

Step 3: System checks labor calendar coverage
   → If end_date > labor_end: Shows warning (non-blocking)
   → If end_date ≤ labor_end: No warning

Step 4: User clicks "Solve Optimization Model"
   → Model receives custom_end_date parameter
   → Optimization runs with specified horizon

================================================================================
COMPONENT BREAKDOWN
================================================================================

┌─────────────────────────────────────────────────────────────────────┐
│ 📅 Planning Horizon                                                 │
├─────────────────────────────────────────────────────────────────────┤
│                                                                      │
│  st.radio()                          st.number_input()              │
│  ┌──────────────────────────┐        ┌────────────────┐            │
│  │ ○ Auto (from forecast)   │        │ [26      ]     │            │
│  │ ◉ Custom (weeks)         │        │                │            │
│  │                          │        │ if custom mode │            │
│  │ Help: Auto mode...       │        │ only           │            │
│  └──────────────────────────┘        └────────────────┘            │
│                                                                      │
│  st.info()                                                          │
│  ┌──────────────────────────────────────────────────────┐          │
│  │ ℹ️ Planning horizon: 26 weeks (ending 2025-10-09)    │          │
│  └──────────────────────────────────────────────────────┘          │
│                                                                      │
│  st.warning()                                                       │
│  ┌──────────────────────────────────────────────────────┐          │
│  │ ⚠️ Planning horizon extends beyond labor calendar... │          │
│  └──────────────────────────────────────────────────────┘          │
│                                                                      │
└─────────────────────────────────────────────────────────────────────┘

================================================================================
CODE STRUCTURE
================================================================================

Lines 420-464: Planning Horizon UI Section
  - st.markdown(section_header("Planning Horizon", ...))
  - col1, col2 = st.columns([2, 1])
  - with col1: st.radio() for mode selection
  - with col2: st.number_input() for week value (conditional)
  - End date calculation and display
  - Labor calendar coverage check

Line 504: Model Parameter Update
  - end_date=custom_end_date
  - Passes calculated end date to IntegratedProductionDistributionModel

================================================================================
